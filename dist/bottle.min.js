var n=class{constructor(t,e){this.s=t;this.e=e}i=new Map;t=new Map;r=[];container=new Proxy({},{deleteProperty:(t,e)=>(this.delete(e),!0),get:(t,e)=>{if(!this.n(e)){if(this.e)return this.e.container[e];throw new Error(`Unknown service "${String(e)}"`)}if(this.t.has(e)||(this.o(e),this.t.set(e,this.s[e](this.container)),this.a()),this.r.length){let r=this.r[this.r.length-1];this.i.set(e,(this.i.get(e)||new Set).add(r))}return this.t.get(e)},getOwnPropertyDescriptor:(t,e)=>({configurable:!0,enumerable:!0,writable:!1}),has:(t,e)=>this.n(e)?!0:this.e?e in this.e.container:!1,ownKeys:t=>{let e=[...this.t.keys()];return this.e&&e.push(...Reflect.ownKeys(this.e.container)),e}});delete(t,e=!0){if(this.n(t)){if(e){let r=this.i.get(t);if(r)for(let[i,s]of r)s.delete(i)}return this.t.delete(t)}return this.e?this.e.delete(t,e):!1}n(t){return t in this.s}o(t,e=this){this.r.push([t,e]),this.e&&this.e.o(t,this)}a(){this.r.pop(),this.e&&this.e.a()}};var a=(o,t)=>e=>{let r=(t||[]).map(i=>e[i]);return new o(...r)};export{n as Bottle,a as service};
//# sourceMappingURL=bottle.min.js.map
