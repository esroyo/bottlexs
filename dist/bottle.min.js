export class Bottle{constructor(t,e){this.o=t;this.e=e}r=new Map;t=new Map;i=[];container=new Proxy({},{deleteProperty:(t,e)=>(this.delete(e),!0),get:(t,e)=>{if(!this.n(e)){if(this.e)return this.e.container[e];throw new Error(`Unknown service "${String(e)}"`)}if(this.t.has(e)||(this.s(e),this.t.set(e,this.o[e](this.container)),this.h()),this.i.length){const i=this.i[this.i.length-1];this.r.set(e,(this.r.get(e)||new Set).add(i))}return this.t.get(e)},getOwnPropertyDescriptor:(t,e)=>({configurable:!0,enumerable:!0,writable:!1}),has:(t,e)=>this.n(e)?!0:this.e?e in this.e.container:!1,ownKeys:t=>{const e=[...this.t.keys()];return this.e&&e.push(...Reflect.ownKeys(this.e.container)),e}});delete(t,e=!0){if(this.n(t)){if(e){const i=this.r.get(t);if(i)for(const[r,n]of i)n.delete(r)}return this.t.delete(t)}return this.e?this.e.delete(t,e):!1}n(t){return t in this.o}s(t,e=this){this.i.push([t,e]),this.e&&this.e.s(t,this)}h(){this.i.pop(),this.e&&this.e.h()}}
//# sourceMappingURL=bottle.min.js.map
